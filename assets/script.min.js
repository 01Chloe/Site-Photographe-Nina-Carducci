function myGallery(e,t){t=Object.assign({},{columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"top",navigation:!0},t);let a=[];createRowWrapper(e),t.lightBox&&createLightBox(e,t.lightboxId,t.navigation),e.querySelectorAll(".gallery-item").forEach(e=>{responsiveImageItem(e),moveItemInRowWrapper(e),wrapItemInColumn(e,t.columns);let l=e.dataset.galleryTag;t.showTags&&void 0!==l&&-1===a.indexOf(l)&&a.push(l)}),t.showTags&&showItemTags(e,t.tagsPosition,a),e.style.display="block",listeners(e)}function createRowWrapper(e){if(!e.querySelector(".row")){let t=document.createElement("div");t.classList.add("gallery-items-row","row"),e.appendChild(t)}}function responsiveImageItem(e){"IMG"===e.tagName&&e.classList.add("img-fluid")}function moveItemInRowWrapper(e){let t=e.closest(".gallery").querySelector(".gallery-items-row");t.appendChild(e)}function wrapItemInColumn(e,t){let a=getColumnsClass(t),l=document.createElement("div");l.classList.add("item-column","mb-4",...a),e.parentNode.appendChild(l),l.appendChild(e)}function getColumnsClass(e){if("number"==typeof e)return[`col-${Math.ceil(12/e)}`];if("object"!=typeof e)return console.error(`Columns should be defined as numbers or objects. ${typeof e} is not supported.`),[];{let t=[];for(let a in e)t.push(`col-${a}-${Math.ceil(12/e[a])}`);return t}}function createLightBox(e,t,a){let l=t||"galleryLightbox",s=document.getElementById(l);s||(e.insertAdjacentHTML("beforeend",`<div class="modal fade" id="${l}" tabindex="-1" role="dialog" aria-hidden="true">
           <div class="modal-dialog" role="document">
             <div class="modal-content">
               <div class="modal-body">
                 ${a?'<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;"><</div>':'<span style="display:none;" />'}
                 <img class="lightboxImage img-fluid" alt="Contenu de l'image affich\xe9e dans la modale au clique"/>
                 ${a?'<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;">></div>':'<span style="display:none;" />'}
               </div>
             </div>
           </div>
         </div>`),s=document.getElementById(l)),e.querySelectorAll(".gallery-item").forEach(e=>{e.addEventListener("click",()=>{document.body.classList.add("modal-open");let t="IMG"===e.tagName?e.src:e.querySelector("img").src,a=s.querySelector(".lightboxImage");a.src=t,s.style.display="block"})});let i=document.getElementById(t);s.addEventListener("click",e=>{e.target.classList.contains("modal")&&(i.style.display="none",document.body.classList.remove("modal-open"))})}document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".gallery");myGallery(e,{columns:{xs:1,sm:2,md:3,lg:3,xl:3},lightBox:!0,lightboxId:"myAwesomeLightbox",showTags:!0,tagsPosition:"top"})});let activeTag="all";function prevImage(){let e=document.querySelector(".lightboxImage"),t=document.querySelectorAll(".active.active-tag"),a=[];t.forEach(e=>{e.classList.contains("active-tag")&&(activeTag=e.dataset.imagesToggle)}),"all"===activeTag?document.querySelectorAll(".item-column img").forEach(e=>{a.push(e)}):document.querySelectorAll(".item-column img").forEach(e=>{e.dataset.galleryTag===activeTag&&a.push(e)});let l=0;a.forEach((t,a)=>{e.src===t.src&&(l=a-1)});let s=a[l]||a[a.length-1];e.src=s.src}function nextImage(){let e=document.querySelector(".lightboxImage"),t=document.querySelectorAll(".active.active-tag"),a=[];t.forEach(e=>{e.classList.contains("active-tag")&&(activeTag=e.dataset.imagesToggle)}),"all"===activeTag?document.querySelectorAll(".item-column img").forEach(e=>{a.push(e)}):document.querySelectorAll(".item-column img").forEach(e=>{e.dataset.galleryTag===activeTag&&a.push(e)});let l=0;a.forEach((t,a)=>{e.src===t.src&&(l=a+1)});let s=a[l]||a[0];e.src=s.src}function showItemTags(e,t,a){let l='<li class="nav-item"><span class="nav-link active active-tag" data-images-toggle="all">Tous</span></li>';a.forEach(e=>{l+=`<li class="nav-item active">
                   <span class="nav-link"  data-images-toggle="${e}">${e}</span></li>`});let s=`<ul class="my-4 tags-bar nav nav-pills">${l}</ul>`;"top"===t?e.insertAdjacentHTML("afterbegin",s):console.error(`Unknown tags position: ${t}`)}function filterByTag(e){if(e.classList.contains("active-tag"))return;let t=document.querySelectorAll(".active.active-tag");t.forEach(e=>e.classList.remove("active","active-tag")),e.classList.add("active","active-tag");let a=e.dataset.imagesToggle,l=document.querySelectorAll(".gallery-item");l.forEach(e=>{let t=e.closest(".item-column");"all"===a||e.dataset.galleryTag===a?t.style.display="block":t.style.display="none"})}function galleryAnimation(e){let t=e.querySelector(".gallery-items-row");t.classList.add("gallery-animation"),setTimeout(()=>{t.classList.remove("gallery-animation")},300)}function listeners(e){e.addEventListener("click",t=>{let a=t.target;a.classList.contains("nav-link")&&(galleryAnimation(e),filterByTag(a)),a.classList.contains("mg-prev")&&prevImage(),a.classList.contains("mg-next")&&nextImage()})}